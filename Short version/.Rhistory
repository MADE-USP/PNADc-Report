folder_path <- "Input/"
file_path <- paste0(file_directory, folder_path, "PNADc_", "4", "_2023.RData")
load(file_path)
i=2023
q=4
folder_path <- "Input/"
file_directory <- dirname(rstudioapi::getSourceEditorContext()$path)%>%
gsub("\\Short version", "", .)
setwd(file_directory)
getwd()
i=2023
q=4
folder_path <- "Input/"
file_path <- paste0(file_directory, folder_path, "PNADc_", q, "_",i, ".RData")
load(file_path)
# Primeiro, vamos dividir a coluna de data em uma de ano, e uma de trimestre:
date <- do.call(rbind, strsplit(EMPREGO.RG.sh$Trimestre, " ")) # dividindo a data pelo "espaco": ano e trimestre
colnames(date)[colnames(date) <- c("Ano", "Trimestre")] # colocando nomes corretos nas colunas
EMPREGO.RG.sh <- EMPREGO.RG.sh %>%
select(Ocupado, Categoria)
EMPREGO.RG.sh <- cbind(EMPREGO.RG.sh,date) # juntando com o data frame anterior
# Tendo as colunas de Ano e Trimestre, agora temos que criar as variaveis de dia e mes
EMPREGO.RG.sh$Dia <- 01  # considere o dia igual para todos (o dia não vai importar)
EMPREGO.RG.sh$Mes <- ifelse(EMPREGO.RG.sh$Trimestre=="Q1",1,
ifelse(EMPREGO.RG.sh$Trimestre=="Q2",4,
ifelse(EMPREGO.RG.sh$Trimestre=="Q3",7,10)))
#Agora podemos dizer pro R a data, ja que temos todos os elementos que precisamos
# Primeiro, vamos transformar o ano em numerico
EMPREGO.RG.sh$Ano <- as.numeric(EMPREGO.RG.sh$Ano)
# Agora dizer pro R que temos datas trimestrais, que serao identificadas pelo ano, mes e dia:
EMPREGO.RG.sh$Data <-as.yearqtr(with(EMPREGO.RG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
# Por fim, vamos voltar a ter apenas a Taxa de Ocupação, Categoria e a Data:
EMPREGO.RG.sh<- EMPREGO.RG.sh %>%
select(Ocupado, Categoria, Data)
ggplot(EMPREGO.RG.sh, aes(x=Data, y=Ocupado, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupacao por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41")) + #cores Made
theme_bw() # colocando fundo Branco
knitr::opts_chunk$set(echo = TRUE, error=FALSE, warning=FALSE, message=FALSE)
options(digits=2)
ggplot(EMPREGO.RG.sh, aes(x=Data, y=Ocupado, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupacao por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41")) + #cores Made
theme_bw() # colocando fundo Branco
View(EMPREGO.RG.sh)
ggplot(EMPREGO.REG.sh, aes(x=Data, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
theme_bw() # colocando fundo Branco
ggplot(EMPREGO.REG.sh, aes(x=Data, y=Ocupado, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupacao por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41")) + #cores Made
theme_bw() # colocando fundo Branco
View(EMPREGO.REG.sh)
View(EMPREGO.REG.sh)
ggplot(EMPREGO.REG.sh, aes(x=Data, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41"))
ggplot(EMPREGO.REG.sh, aes(x=Ocupado, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41"))
ggplot(EMPREGO.REG.sh, aes(x=Ocupado, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3"))
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3"))
View(EMPREGO.RG.sh)
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3"))
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3"))
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3"))
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3"))+
theme_bw() # colocando fundo Branco
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3")) +
theme_bw() # colocando fundo Branco
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3")) +
theme_bw() # colocando fundo Branco
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao)) +
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3")) +
theme_bw() # colocando fundo Branco
ggplot(EMPREGO.RG.sh, aes(x=Data, y=Ocupado, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupacao por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41")) + #cores Made
theme_bw() # colocando fundo Branco
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao)) +
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3")) +
theme_bw() # colocando fundo Branco
class(EMPREGO.REG.sh$Ocupado)
class(EMPREGO.REG.sh$Trimestre)
class(EMPREGO.RG.sh$Data)
EMPREGO.REG.sh$Trimestre <-as.yearqtr(with(EMPREGO.REG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
EMPREGO.REG.sh$Data <-as.yearqtr(with(EMPREGO.REG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
EMPREGO.REG.sh <- EMPREGO.REG.sh %>%
select(Ocupado, Regiao)
EMPREGO.REG.sh <- cbind(EMPREGO.REG.sh,date)
EMPREGO.REG.sh$Dia <- 01
EMPREGO.REG.sh$Mes <- ifelse(EMPREGO.REG.sh$Trimestre=="Q1",1,
ifelse(EMPREGO.REG.sh$Trimestre=="Q2",4,
ifelse(EMPREGO.REG.sh$Trimestre=="Q3",7,10)))
EMPREGO.REG.sh$Ano <- as.numeric(EMPREGO.REG.sh$Ano)
EMPREGO.REG.sh$Data <-as.yearqtr(with(EMPREGO.REG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
EMPREGO.REG.sh<- EMPREGO.REG.sh %>%
select(Ocupado, Regiao, Data)
```{r echo=FALSE}
ggplot(EMPREGO.REG.sh, aes(x=Trimestre, y=Ocupado, color=Regiao)) +
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3")) +
theme_bw() # colocando fundo Branco
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Trimestre, " "))
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Trimestre, " "))
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
EMPREGO.REG.sh <- EMPREGO.REG.sh %>%
select(Ocupado, Regiao)
EMPREGO.REG.sh <- cbind(EMPREGO.REG.sh,date)
EMPREGO.REG.sh$Dia <- 01
EMPREGO.REG.sh$Mes <- ifelse(EMPREGO.REG.sh$Trimestre=="Q1",1,
ifelse(EMPREGO.REG.sh$Trimestre=="Q2",4,
ifelse(EMPREGO.REG.sh$Trimestre=="Q3",7,10)))
EMPREGO.REG.sh$Ano <- as.numeric(EMPREGO.REG.sh$Ano)
EMPREGO.REG.sh$Data <-as.yearqtr(with(EMPREGO.REG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
EMPREGO.REG.sh<- EMPREGO.REG.sh %>%
select(Ocupado, Regiao, Data)
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Trimestre, " "))
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Data, " "))
date <- do.call(rbind, strsplit(EMPREGO.REG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
EMPREGO.REG.sh <- EMPREGO.REG.sh %>%
select(Ocupado, Regiao)
EMPREGO.REG.sh <- cbind(EMPREGO.REG.sh,date)
EMPREGO.REG.sh$Dia <- 01
EMPREGO.REG.sh$Mes <- ifelse(EMPREGO.REG.sh$Trimestre=="Q1",1,
ifelse(EMPREGO.REG.sh$Trimestre=="Q2",4,
ifelse(EMPREGO.REG.sh$Trimestre=="Q3",7,10)))
EMPREGO.REG.sh$Ano <- as.numeric(EMPREGO.REG.sh$Ano)
EMPREGO.REG.sh$Data <-as.yearqtr(with(EMPREGO.REG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
EMPREGO.REG.sh<- EMPREGO.REG.sh %>%
select(Ocupado, Regiao, Data)
```{r echo=FALSE}
ggplot(EMPREGO.REG.sh, aes(x=Data, y=Ocupado, color=Regiao)) +
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Ocupação por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41", "#8968D3")) +
theme_bw() # colocando fundo Branco
colnames(Tx_desemprego.sh)[colnames(Tx_desemprego.sh) == "Taxa de desemprego"] = "Taxa_desemprego"
desemprego <- Tx_desemprego.sh$Taxa_desemprego[Tx_desemprego.sh$Trimestre == "2023 Q4"]
desemprego_tri <- Tx_desemprego.sh$Taxa_desemprego[Tx_desemprego.sh$Trimestre == "2023 Q3"]
desemprego_ano <- Tx_desemprego.sh$Taxa_desemprego[Tx_desemprego.sh$Trimestre == "2022 Q3"]
desem_tri <- ((desemprego)-(desemprego_tri))
desem_ano <- ((desemprego)-(desemprego_ano))
desemprego_HB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
desemprego_HN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
desemprego_MB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
desemprego_MN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
desem_triHB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desem_triHN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desem_triMB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desem_triMN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desemtriMB <- (desemprego_MB - desem_triMB)
desemtriMN <- (desemprego_MN - desem_triMN)
desemtriHB <- (desemprego_HB - desem_triHB)
desemtriHN <- (desemprego_HN - desem_triHN)
##Ano anterior
desemano_HB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2022 Q4"])
desemano_HN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2022 Q4"])
desemano_MB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2022 Q4"])
desemano_MN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2022 Q4"])
desemanoMB <- (desemprego_MB - desemano_MB)
desemanoMN <- (desemprego_MN - desemano_MN)
desemanoHB <- (desemprego_HB - desemano_HB)
desemanoHN <- (desemprego_HN - desemano_HN)
desemprego_RG <- c(desemprego_HB, desemprego_HN, desemprego_MB, desemprego_MN)
ordem_desemRG <- sort(desemprego_RG, decreasing = TRUE)
max_desemRG <- ordem_desemRG[1]
seg_desemRG <- ordem_desemRG[2]
ter_desemRG <- ordem_desemRG[3]
qua_desemRG <- ordem_desemRG[4]
desemtri_RG <- c(desemtriMB, desemtriMN, desemtriHB, desemtriHN)
ordem_desemtri_RG <- sort (desemtri_RG, decreasing = TRUE)
max_desemtriRG <- ordem_desemtri_RG[1]
seg_desemtriRG <- ordem_desemtri_RG[2]
ter_desemtriRG <- ordem_desemtri_RG[3]
qua_desemtriRG <- ordem_desemtri_RG[4]
desemano_RG <- c(desemanoMB, desemanoMN, desemanoHB, desemanoHN)
ordem_desemano_RG <- sort (desemano_RG, decreasing = TRUE)
max_desemanoRG <- ordem_desemano_RG[1]
seg_desemanoRG <- ordem_desemano_RG[2]
ter_desemanoRG <- ordem_desemano_RG[3]
qua_desemanoRG <- ordem_desemano_RG[4]
#Região
desemprego_NO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Norte" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_NE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Nordeste" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_CO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Centro-Oeste" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_SE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sudeste" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_SU <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sul" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
### Trimestre anterior
desemtri_NO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Norte" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_NE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Nordeste" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_CO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Centro-Oeste" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_SE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sudeste" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_SU <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sul" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtriNO <- desemprego_NO - desemtri_NO
desemtriNE <- desemprego_NE - desemtri_NE
desemtriCO <- desemprego_CO - desemtri_CO
desemtriSE <- desemprego_SE - desemtri_SE
desemtriSU <- desemprego_SU - desemtri_SU
## Ano anterior
desemano_NO <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Norte" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_NE <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Nordeste" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_CO <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Centro-Oeste" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_SE <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sudeste" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_SU <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sul" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemanoNO <- desemprego_NO - desemano_NO
desemanoNE <- desemprego_NE - desemano_NE
desemanoCO <- desemprego_CO - desemano_CO
desemanoSE <- desemprego_SE - desemano_SE
desemanoSU <- desemprego_SU - desemano_SU
desemprego_REG <- c(desemprego_NO, desemprego_NE, desemprego_CO, desemprego_SE, desemprego_SU)
ordem_desemREG <- sort (desemprego_REG, decreasing = TRUE)
max_desemREG <- ordem_desemREG[1]
seg_desemREG <- ordem_desemREG[2]
ter_desemREG <- ordem_desemREG[3]
qua_desemREG <- ordem_desemREG[4]
qui_desemREG <- ordem_desemREG[5]
desem_triREG <- c(desemtriNO, desemtriNE, desemtriCO, desemtriSE, desemtriSU)
ordem_desem_triREG <- sort(desem_triREG, decreasing = TRUE)
max_desemtriREG <- ordem_desem_triREG[1]
seg_desemtriREG <- ordem_desem_triREG[2]
ter_desemtriREG <- ordem_desem_triREG[3]
qua_desemtriREG <- ordem_desem_triREG[4]
qui_desemtriREG <- ordem_desem_triREG[5]
desem_anoREG <- c(desemanoNO, desemanoNE, desemanoCO, desemanoSE, desemanoSU)
ordem_desem_anoREG <- sort(desem_anoREG, decreasing = TRUE)
max_desemanoREG <- ordem_desem_anoREG[1]
seg_desemanoREG <- ordem_desem_anoREG[2]
ter_desemanoREG <- ordem_desem_anoREG[3]
qua_desemanoREG <- ordem_desem_anoREG[4]
qui_desemanoREG <- ordem_desem_anoREG[5]
colnames(informalidadeMedia.sh)[colnames(informalidadeMedia.sh) == "Taxa média de informalidade"] = "informalidade_media"
colnames(informal.REG.sh)[colnames(informal.REG.sh) == "não contribuinte INSS"] = "Informal"
colnames(informal.RG.sh)[colnames(informal.RG.sh) == "não contribuinte INSS"] = "Informal"
informalidade <- informalidadeMedia.sh$informalidade_media[informalidadeMedia.sh$Trimestre == "2023 Q4"]
informal_tri <- informalidadeMedia.sh$informalidade_media[informalidadeMedia.sh$Trimestre == "2023 Q3"]
diftri_informal <- informalidade - informal_tri
#Região
inf_NO <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Norte" & informal.REG.sh$Trimestre == "2023 Q4"]
inf_NE <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Nordeste" & informal.REG.sh$Trimestre == "2023 Q4"]
inf_CO <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Centro-Oeste" & informal.REG.sh$Trimestre == "2023 Q4"]
inf_SE <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sudeste" & informal.REG.sh$Trimestre == "2023 Q4"]
inf_SU <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sul" & informal.REG.sh$Trimestre == "2023 Q4"]
## Tri anterior
informal_triNO <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Norte" & informal.REG.sh$Trimestre == "2023 Q3"]
informal_triNE <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Nordeste" & informal.REG.sh$Trimestre == "2023 Q3"]
informal_triCO <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Centro-Oeste" & informal.REG.sh$Trimestre == "2023 Q3"]
informal_triSE <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sudeste" & informal.REG.sh$Trimestre == "2023 Q3"]
informal_triSU <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sul" & informal.REG.sh$Trimestre == "2023 Q3"]
inf_triNO <- ((inf_NO) - (informal_triNO))
inf_triNE <- inf_NE - informal_triNE
inf_triCO <- inf_CO - informal_triCO
inf_triSE <- inf_SE - informal_triSE
inf_triSU <- inf_SU - informal_triSU
informal_anoNO <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Norte" & informal.REG.sh$Trimestre == "2022 Q4"]
informal_anoNE <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Nordeste" & informal.REG.sh$Trimestre == "2022 Q4"]
informal_anoCO <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Centro-Oeste" & informal.REG.sh$Trimestre == "2022 Q4"]
informal_anoSE <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sudeste" & informal.REG.sh$Trimestre == "2022 Q4"]
informal_anoSU <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sul" & informal.REG.sh$Trimestre == "2022 Q4"]
inf_anoNO <- inf_NO - informal_anoNO
inf_anoNE <- inf_NE - informal_anoNE
inf_anoCO <- inf_CO - informal_anoCO
inf_anoSE <- inf_SE - informal_anoSE
inf_anoSU <- inf_SU - informal_anoSU
informalREG <- c(inf_NO, inf_NE, inf_CO, inf_SE, inf_SU)
ordem_infREG <- sort(informalREG, decreasing = TRUE)
max_infREG <- ordem_infREG[1]
seg_infREG <- ordem_infREG[2]
ter_infREG <- ordem_infREG[3]
qua_infREG <- ordem_infREG[4]
qui_infREG <- ordem_infREG[5]
inftri_REG <- c(inf_triNO, inf_triNE, inf_triCO, inf_triSE, inf_triSU)
ordem_inftriREG <- sort(inftri_REG, decreasing = TRUE)
max_inftriREG <- ordem_inftriREG[1]
seg_inftriREG <- ordem_inftriREG[2]
ter_inftriREG <- ordem_inftriREG[3]
qua_inftriREG <- ordem_inftriREG[4]
qui_inftriREG <- ordem_inftriREG[5]
infano_REG <- c(inf_anoNO, inf_anoNE, inf_anoCO, inf_anoSE, inf_anoSU)
ordem_infanoREG <- sort(infano_REG, decreasing = TRUE)
max_infanoREG <- ordem_infanoREG[1]
seg_infanoREG <- ordem_infanoREG[2]
ter_infanoREG <- ordem_infanoREG[3]
qua_infanoREG <- ordem_infanoREG[4]
qui_infanoREG <- ordem_infanoREG[5]
informal_HB <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Homem Branco" & informal.RG.sh$Trimestre == "2023 Q4"]
informal_HN <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Homem Negro" & informal.RG.sh$Trimestre == "2023 Q4"]
informal_MB <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Mulher Branca" & informal.RG.sh$Trimestre == "2023 Q4"]
informal_MN <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Mulher Negra" & informal.RG.sh$Trimestre == "2023 Q4"]
##Tri anterior
informal_triHB <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Homem Branco" & informal.RG.sh$Trimestre == "2023 Q3"]
informal_triHN <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Homem Negro" & informal.RG.sh$Trimestre == "2023 Q3"]
informal_triMB <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Mulher Branca" & informal.RG.sh$Trimestre == "2023 Q3"]
informal_triMN <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Mulher Negra" & informal.RG.sh$Trimestre == "2023 Q3"]
diftri_informalidadeHB <- informal_HB - informal_triHB
diftri_informalidadeHN <- informal_HN - informal_triHN
diftri_informalidadeMB <- informal_HB - informal_triMB
diftri_informalidadeMN <- informal_HN - informal_triMN
## Ano anterior
informalidade_ano <- informalidadeMedia.sh$informalidade_media[informalidadeMedia.sh$Trimestre == "2022 Q4"]
difano_informalRG <- informalidade - informalidade_ano
informal_anoHB <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Homem Branco" & informal.RG.sh$Trimestre == "2022 Q4"]
informal_anoHN <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Homem Negro" & informal.RG.sh$Trimestre == "2022 Q4"]
informal_anoMB <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Mulher Branca" & informal.RG.sh$Trimestre == "2022 Q4"]
informal_anoMN <- informal.RG.sh$Informal[informal.RG.sh$Categoria == "Mulher Negra" & informal.RG.sh$Trimestre == "2022 Q4"]
infanoHB <- informal_HB - informal_anoHB
infanoHN <- informal_HN - informal_anoHN
infanoMB <- informal_MB - informal_anoMB
infanoMN <- informal_MB - informal_anoMN
informalRG <- c(informal_HB, informal_HN, informal_MB, informal_MN)
ordem_infRG <- sort(informalRG, decreasing = TRUE)
max_infRG <- ordem_infRG[1]
seg_infRG <- ordem_infRG[2]
ter_infRG <- ordem_infRG[3]
qua_infRG <- ordem_infRG[4]
diftri_informalidadeRG <- c(diftri_informalidadeHB, diftri_informalidadeHN, diftri_informalidadeMB, diftri_informalidadeMN)
ordem_diftri <- sort(diftri_informalidadeRG, decreasing = TRUE)
max_inftriRG <- ordem_diftri[1]
seg_inftriRG <- ordem_diftri[2]
ter_inftriRG <- ordem_diftri[3]
qua_inftriRG <- ordem_diftri[4]
infano_RG <- c(infanoHB, infanoHN, infanoMB, infanoMN)
ordem_infanoRG <- sort(infano_RG, decreasing = TRUE)
max_infanoRG <- ordem_infanoRG[1]
seg_infanoRG <- ordem_infanoRG[2]
ter_infanoRG <- ordem_infanoRG[3]
qua_infanoRG <- ordem_infanoRG[4]
#colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Homem Branco"] = "Homem_Branco"
colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Administração Pública"] = "Adm_pública"
colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Outros serviços"] = "Outros_serviços"
colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Serviços domésticos"] = "Ser_domesticos"
#Homem Branco
HB_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_ind <- trabalhosetor.RG.sh$Indústria[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_educa <- trabalhosetor.RG.sh$Educação[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_oserv <- trabalhosetor.RG.sh$Outros_serviços[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_HB <- c(HB_agro, HB_ind, HB_const, HB_comercio, HB_tran, HB_alimen, HB_info, HB_publico, HB_educa, HB_oserv, HB_domes)
ordem_HB <- sort(setores_HB, decreasing = TRUE)
max_HB <- ordem_HB[1]
seg_HB <- ordem_HB[2]
ter_HB <- ordem_HB[3]
qua_HB <- ordem_HB[4]
qui_HB <- ordem_HB[5]
#Homem negro
HN_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_ind <- trabalhosetor.RG.sh$Indústria[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_alimen <- trabalhosetor.RG.sh$Alimentação[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_educa <- trabalhosetor.RG.sh$Educação[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_oserv <- trabalhosetor.RG.sh$Outros_serviços[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_HN <- c(HN_agro, HN_ind, HN_const, HN_comercio, HN_tran, HN_alimen, HN_info, HN_publico, HN_educa, HN_oserv, HN_domes)
ordem_HN <- sort(setores_HN, decreasing = TRUE)
max_HN <- ordem_HN[1]
seg_HN <- ordem_HN[2]
ter_HN <- ordem_HN[3]
qua_HN <- ordem_HN[4]
qui_HN <- ordem_HN[5]
#Mulher Branca
MB_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_educa <- trabalhosetor.RG.sh$Educação[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_ind <- trabalhosetor.RG.sh$Indústria[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_MB <- c(MB_agro, MB_ind, MB_const, MB_comercio, MB_tran, MB_alimen, MB_info, MB_publico, MB_educa, MB_oserv, MB_domes)
ordem_MB <- sort(setores_MB, decreasing = TRUE)
max_MB <- ordem_MB[1]
seg_MB <- ordem_MB[2]
ter_MB <- ordem_MB[3]
qua_MB <- ordem_MB[4]
qui_MB <- ordem_MB[5]
#Mulher Negra
MN_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_alimen <- trabalhosetor.RG.sh$Alimentação[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_oserv <- trabalhosetor.RG.sh$Outros_serviços[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_MN <- c(MN_agro, MN_ind, MN_const, MN_comercio, MN_tran, MN_alimen, MN_info, MN_publico, MN_educa, MN_oserv, MN_domes)
ordem_MN <- sort(setores_MN, decreasing = TRUE)
seg_MN <- ordem_MN[2]
ter_MN <- ordem_MN[3]
qua_MN <- ordem_MN[4]
qui_MN <- ordem_MN[5]
A ocupação por setores varia consideravelmente de acordo com recortes de raça e gênero. No `r q`º trimestre de `r i`, a maioria dos homens negros (`r max_HN*100`%) estavam alocados no setor de comércio, seguido de construção (`r seg_HN*100`%), de indústria (`r ter_HN*100`%), de agropecuária (`r qua_HN*100`%) e de informação (`r qui_HN*100`%). Para homens brancos, o setor que mais empregou foi comércio com `r max_HB*100`%, além de indústria (`r seg_HB*100`%), de informação (`r ter_HB*100`%), de agropecuária (`r qua_HB*100`%) e de construção (`r qui_HB*100`%).
Para as mulheres brancas empregadas, `r max_MB*100`% estavam no setor de educação, `r seg_MB*100`% em comércio, `r ter_MB*100`% em informação, `r qua_MB*100`% em indústria e `r qui_MB*100`% em serviços domésticos. Das mulheres negras, a maioria (`r max_MN*100`%) ocupava o setor de educação, seguido de comércio (`r seg_MN*100`%), de serviços domésticos (`r ter_MN*100`%), de informação (`r qua_MN*100`%) e de indústria (`r qui_MN*100`%).
Nota-se que os serviços de informação, educação e serviços domésticos são majoritariamente exercidos por mulheres.
# Rendimento habitual
```{r include=FALSE}
renda_med <- RendaHabitMedia.sh$RendaHabitMedia[RendaHabitMedia.sh$Trimestre == "2023 Q4"]
# Raça e gênero
rendahabitHB <- RendaHabit.RG.sh$Renda_Habitual_RG[RendaHabit.RG.sh$Categoria == "Homem Branco" & RendaHabit.RG.sh$Trimestre == "2023 Q4"]
rendahabitHN <- RendaHabit.RG.sh$Renda_Habitual_RG[RendaHabit.RG.sh$Categoria == "Homem Negro" & RendaHabit.RG.sh$Trimestre == "2023 Q4"]
rendahabitMB <- RendaHabit.RG.sh$Renda_Habitual_RG[RendaHabit.RG.sh$Categoria == "Mulher Branca" & RendaHabit.RG.sh$Trimestre == "2023 Q4"]
rendahabitMN <- RendaHabit.RG.sh$Renda_Habitual_RG[RendaHabit.RG.sh$Categoria == "Mulher Negra" & RendaHabit.RG.sh$Trimestre == "2023 Q4"]
ter_renhab <- ordemrendahabitRG[3]
seg_renhab_ano <- ordem_renhabRG[2]
![Rendimento Habitual por Raça e Gênero (reais de 2023)](C:/Users/clara/Downloads/RENDA_habit_RG.png){width=70%}
O rendimento habitual mensal do trabalho principal é a remuneração recebida pelo trabalhador sem considerar acréscimos e descontos esporádicos. Já o rendimento efetivo mensal do trabalho principal inclui os pagamentos e descontos que não possuem caráter contínuo. Neste relatório, optamos por reportar apenas o rendimento habitual mensal.
O rendimento habitual médio do trabalhador brasileiro foi de `r renda_med` reais por mês no `r q`º trimestre de `r i`. O grupo populacional com maior aumento da renda média na comparação anual foi o de mulheres brancas, com `r max_renhab_ano` reais, enquanto homens negros tiveram o menor aumento (`r qua_renhab_ano` reais). Veja os dados na figura 5.
# Distribuição: Índice de Gini
```{r include=FALSE}
O índice de Gini varia de 0 (zero) a 1 (um). Quanto mais próximo de 1 o valor do índice, maior a desigualdade^[Para o cálculo do índice de Gini, consideramos a renda que os trabalhadores efetivamente receberam, isto é, seu rendimento efetivo em todos os trabalhos].
![Índice de Gini por Raça e Gênero](C:/Users/clara/Downloads/giniRG_2304.png){width=70%}
![Índice de Gini por Região](C:/Users/clara/Downloads/gini_REG_2304.png){width=70%}
O índice de Gini dos rendimentos efetivos a nível nacional para o `r q`º trimestre de `r i` foi de `r giniBR`.
Observamos que as regiões Nordeste e Norte apresentam desigualdade maior do que a reportada para todo o território nacional no trimestre analisado. Por fim, o índice de Gini para os grupos mulher negra e homem negro, por exemplo, é maior do que o nacional, indicando maior desigualdade entre os integrantes destes grupos.
# Percentis de renda
```{r echo=FALSE}
ggplot(informal.RG.sh, aes(x=Data, y=Informal, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Informalidade por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
View(informal.RG.sh)
ggplot(informal.RG.sh, aes(x=Data, y=Informal, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Informalidade por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
knitr::opts_chunk$set(echo = TRUE, error=FALSE, warning=FALSE, message=FALSE)
options(digits=2)
file_directory <- dirname(rstudioapi::getSourceEditorContext()$path)%>%
gsub("\\Short version", "", .)
#library(PNADcIBGE)
library(survey)
#library(PNADcIBGE)
library(survey)
library(convey)
library(tidyverse)
library(dplyr)
library(knitr)
library(openxlsx)
library(kableExtra)
library(zoo)
library(openxlsx)
library(kableExtra)
library(zoo)
library(gplots)
#install.packages("xts")
library(xts)
library(zoo)
library(gplots)
#install.packages("xts")
library(xts)
file_directory <- dirname(rstudioapi::getSourceEditorContext()$path)%>%
gsub("\\Short version", "", .)
getwd()
i=2023
q=4
folder_path <- "Input/"
file_path <- paste0(file_directory, folder_path, "PNADc_", q, "_",i, ".RData")
load(file_path)
