informalidade_centrooeste <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Centro-Oeste" & informal.REG.sh$Trimestre == "2023 Q4" ]
informalidade_sudeste <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sudeste" & informal.REG.sh$Trimestre == "2023 Q4" ]
informalidade_sul <- informal.REG.sh$Informal[informal.REG.sh$Regiao == "Sul" & informal.REG.sh$Trimestre == "2023 Q4" ]
#Consulta de máximos e mínimos (tiramos se for irrelavante)
informalidade_REG <- c(informalidade_norte, informalidade_nordeste, informalidade_centrooeste, informalidade_sudeste, informalidade_sul)
ordem_infREG <- sort(informalidade_REG, decreasing = TRUE)
max_infREG <- ordem_infREG[1]
seg_infREG <- ordem_infREG[2]
ter_infREG <- ordem_infREG[3]
qua_infREG <- ordem_infREG[4]
qui_infREG <- ordem_infREG[5]
ESCOLARIDADE_reshape <- reshape(ESCOLARIDADE.RG, idvar = "Categoria", direction = "long", varying = list(c("Pré-fundamental", "ensino_fundamental","ensino_medio","ensino_superior","Especializacao/pós-graduação","Mestrado/doutorado")))
colnames(ESCOLARIDADE_reshape)[colnames(ESCOLARIDADE_reshape) == "Pré-fundamental"] = "Composição"
colnames(ESCOLARIDADE_reshape)[colnames(ESCOLARIDADE_reshape) == "time"] = "Escolaridade"
ESCOLARIDADE_reshape$Nivel <- ifelse(ESCOLARIDADE_reshape$Escolaridade ==1, "Pré-fundamental",
ifelse(ESCOLARIDADE_reshape$Escolaridade==2, "Ensino Fundamental",
ifelse(ESCOLARIDADE_reshape$Escolaridade==3, "Ensino Médio",
ifelse(ESCOLARIDADE_reshape$Escolaridade==4, "Ensino Superior",
ifelse(
ESCOLARIDADE_reshape$Escolaridade ==5, "Especialização/pós-graduação", "Mestrado/Doutorado"
)
))))
ggplot(data=ESCOLARIDADE_reshape, aes(x=Categoria, y=Composição, fill=reorder(Nivel,-Escolaridade)))+
geom_bar(stat="identity") +
scale_fill_manual(values=c("#FFAB4D","#eb52ff","#45ff66", "#3366ff","#feff41","#FF7276")) + #cores Made
theme_bw() + # colocando fundo Branco
labs(title = "Nível de Escolaridade Máxima Atingida",
x = "Categoria",
y = "Percentual",
fill = "Nível de Escolaridade")
View(ESCOLARIDADE_reshape)
#GRAFICOS
date <- do.call(rbind, strsplit(informal.RG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
informal.RG.sh <- informal.RG.sh %>%
select(Informal, Categoria)
informal.RG.sh <- cbind(informal.RG.sh,date)
informal.RG.sh$Dia <- 01
informal.RG.sh$Mes <- ifelse(informal.RG.sh$Trimestre=="Q1",1,
ifelse(informal.RG.sh$Trimestre=="Q2",4,
ifelse(informal.RG.sh$Trimestre=="Q3",7,10)))
informal.RG.sh$Ano <- as.numeric(informal.RG.sh$Ano)
informal.RG.sh$Data <-as.yearqtr(with(informal.RG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
informal.RG.sh<- informal.RG.sh %>%
select(Informal, Categoria, Data)
ggplot(informal.RG.sh, aes(x=Data, y=Informal, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Informalidade por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
colnames(informal.RG.sh)[colnames(informal.RG.sh) == "Data"] = "Trimestre"
colnames(informal.REG.sh)[colnames(informal.REG.sh) == "não contribuinte INSS"] = "Informal"
date <- do.call(rbind, strsplit(informal.REG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
informal.REG.sh <- informal.REG.sh %>%
select(Informal, Regiao)
informal.REG.sh <- cbind(informal.REG.sh,date)
informal.REG.sh$Dia <- 01
informal.REG.sh$Mes <- ifelse(informal.REG.sh$Trimestre=="Q1",1,
ifelse(informal.REG.sh$Trimestre=="Q2",4,
ifelse(informal.REG.sh$Trimestre=="Q3",7,10)))
informal.REG.sh$Ano <- as.numeric(informal.REG.sh$Ano)
informal.REG.sh$Data <-as.yearqtr(with(informal.REG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
informal.REG.sh<- informal.REG.sh %>%
select(Informal, Regiao, Data)
colnames(informal.REG.sh)[colnames(informal.RG.sh) == "Regiao"] = "Região"
ggplot(informal.REG.sh, aes(x=Data, y=Informal, color=Região))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Informalidade por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
colnames(informal.REG.sh)[colnames(informal.REG.sh) == "Regiao"] = "Região"
ggplot(informal.REG.sh, aes(x=Data, y=Informal, color=Região))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Taxa de Informalidade por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
colnames(informal.REG.sh)[colnames(informal.REG.sh) == "Data"] = "Trimestre"
#colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Homem Branco"] = "Homem_Branco"
colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Administração Pública"] = "Adm_pública"
colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Outros serviços"] = "Outros_serviços"
colnames(trabalhosetor.RG.sh)[colnames(trabalhosetor.RG.sh) == "Serviços domésticos"] = "Ser_domesticos"
#Homem Branco
HB_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_ind <- trabalhosetor.RG.sh$Indústria[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_alimen <- trabalhosetor.RG.sh$Alimentação[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_educa <- trabalhosetor.RG.sh$Educação[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_oserv <- trabalhosetor.RG.sh$Outros_serviços[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HB_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_HB <- c(HB_agro, HB_ind, HB_const, HB_comercio, HB_tran, HB_alimen, HB_info, HB_publico, HB_educa, HB_oserv, HB_domes)
ordem_HB <- sort(setores_HB, decreasing = TRUE)
max_HB <- ordem_HB[1]
seg_HB <- ordem_HB[2]
ter_HB <- ordem_HB[3]
qua_HB <- ordem_HB[4]
qui_HB <- ordem_HB[5]
#Homem negro
HN_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_ind <- trabalhosetor.RG.sh$Indústria[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_alimen <- trabalhosetor.RG.sh$Alimentação[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_educa <- trabalhosetor.RG.sh$Educação[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_oserv <- trabalhosetor.RG.sh$Outros_serviços[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
HN_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_HN <- c(HN_agro, HN_ind, HN_const, HN_comercio, HN_tran, HN_alimen, HN_info, HN_publico, HN_educa, HN_oserv, HN_domes)
ordem_HN <- sort(setores_HN, decreasing = TRUE)
max_HN <- ordem_HN[1]
seg_HN <- ordem_HN[2]
ter_HN <- ordem_HN[3]
qua_HN <- ordem_HN[4]
qui_HN <- ordem_HN[5]
#Mulher Branca
MB_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_alimen <- trabalhosetor.RG.sh$Alimentação[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_educa <- trabalhosetor.RG.sh$Educação[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_oserv <- trabalhosetor.RG.sh$Outros_serviços[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MB_ind <- trabalhosetor.RG.sh$Indústria[trabalhosetor.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_MB <- c(MB_agro, MB_ind, MB_const, MB_comercio, MB_tran, MB_alimen, MB_info, MB_publico, MB_educa, MB_oserv, MB_domes)
ordem_MB <- sort(setores_MB, decreasing = TRUE)
max_MB <- ordem_MB[1]
seg_MB <- ordem_MB[2]
ter_MB <- ordem_MB[3]
qua_MB <- ordem_MB[4]
qui_MB <- ordem_MB[5]
#Mulher Negra
MN_agro <- trabalhosetor.RG.sh$Agropecuária[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_const <- trabalhosetor.RG.sh$Construção[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_comercio <- trabalhosetor.RG.sh$Comércio[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_tran <- trabalhosetor.RG.sh$Transporte[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_alimen <- trabalhosetor.RG.sh$Alimentação[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_info <- trabalhosetor.RG.sh$Informação[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_publico <- trabalhosetor.RG.sh$Adm_pública[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_educa <- trabalhosetor.RG.sh$Educação[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_oserv <- trabalhosetor.RG.sh$Outros_serviços[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_domes <- trabalhosetor.RG.sh$Ser_domesticos[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
MN_ind <- trabalhosetor.RG.sh$Indústria[trabalhosetor.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"]
setores_MN <- c(MN_agro, MN_ind, MN_const, MN_comercio, MN_tran, MN_alimen, MN_info, MN_publico, MN_educa, MN_oserv, MN_domes)
ordem_MN <- sort(setores_MN, decreasing = TRUE)
max_MN <- ordem_MN[1]
seg_MN <- ordem_MN[2]
ter_MN <- ordem_MN[3]
qua_MN <- ordem_MN[4]
qui_MN <- ordem_MN[5]
#Quando olhamos para o recorte de grupos, a desigualdade de rendimentos entre gênero e raça fica bastante evidente. Por exemplo, o rendimento habitual mensal dos homens brancos é `r (RendaHabit.RG.sh$HabitualDef22[RendaHabit.RG.sh$Categoria == "Homem Branco" & RendaHabit.RG.sh$Date == "2023 Q3"]/2900-1)*100`% maior do que a média de todos os trabalhadores. Além disso, é `r (RendaHabit.RG.sh$RendaHabit[RendaHabit.RG.sh$Categoria == "Homem Branco" & RendaHabit.RG.sh$Trimestre == "2023 Q3"]/RendaHabit.RG.sh$RendaHabit[RendaHabit.RG.sh$Categoria == "Homem Negro" & RendaHabit.RG.sh$Trimestre == "2023 Q3"]-1)*100`% maior do que a dos homens negros, `r (RendaHabit.RG.sh$RendaHabit[RendaHabit.RG.sh$Categoria == "Homem Branco" & RendaHabit.RG.sh$Trimestre == "2023 Q3"]/RendaHabit.RG.sh$RendaHabit[RendaHabit.RG.sh$Categoria == "Mulher Negra" & RendaHabit.RG.sh$Trimestre == "2023 Q3"]-1)*100`% maior do que as mulheres negras e `r (RendaHabit.RG.sh$RendaHabit[RendaHabit.RG.sh$Categoria == "Homem Branco" & RendaHabit.RG.sh$Trimestre == "2023 Q3"]/RendaHabit.RG.sh$RendaHabit[RendaHabit.RG.sh$Categoria == "Mulher Branca" & RendaHabit.RG.sh$Trimestre == "2023 Q3"]-1)*100`% maior do que a das mulheres brancas. O rendimento mensal das mulheres negras é `r (1-RendaHabit.RG.sh$RendaHabit[RendaHabit.RG.sh$Categoria == "Mulher Negra" & RendaHabit.RG.sh$Trimestre == "2023 Q3"]/RendaHabitualMedia[1])*100`% abaixo da média de todos os trabalhadores.
#Quando analisamos a evolução dos rendimentos dos trabalhadores no tempo, notamos que o rendimento efetivo médio no `r q`º trimestre de `r i`  é `r (RendaEfetivaMedia.sh$RendaEfetivaMedia[RendaEfetivaMedia.sh$Trimestre == "2023 Q3"]/RendaEfetivaMedia.sh$RendaEfetivaMedia[RendaEfetivaMedia.sh$Trimestre == "2022 Q3"]-1)*100`% maior do que no mesmo trimestre do ano de `r i-1`.
#A [Tabela 18: Rendimento Efetivo por Grupo](https://docs.google.com/spreadsheets/d/1Hqdlog0SEqM74eHkd-fxW6ZAD9Yp49dO/edit?usp=sharing&ouid=115284899176275679612&rtpof=true&sd=true) e a [Tabela 19: Rendimento Habitual por Grupo]https://docs.google.com/spreadsheets/d/1HqbLwganD-7gGhjkjbEZUyXH_3l7nj7J/edit?usp=sharing&ouid=115284899176275679612&rtpof=true&sd=true) podem ser consultadas para mais informações.
#Também reportamos o rendimento médio habitual e efetivo por raça, gênero e região. Como observamos, as desigualdades de gênero e de raça também se sobressaem em cada uma das regiões do país.
#GRAFICOS
date <- do.call(rbind, strsplit(RendaEfet.RG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
RendaEfet.RG.sh <- RendaEfet.RG.sh %>%
select(Renda_Efetiva_RG, Categoria)
RendaEfet.RG.sh <- cbind(RendaEfet.RG.sh,date)
RendaEfet.RG.sh$Dia <- 01
RendaEfet.RG.sh$Mes <- ifelse(RendaEfet.RG.sh$Trimestre=="Q1",1,
ifelse(RendaEfet.RG.sh$Trimestre=="Q2",4,
ifelse(RendaEfet.RG.sh$Trimestre=="Q3",7,10)))
RendaEfet.RG.sh$Ano <- as.numeric(RendaEfet.RG.sh$Ano)
RendaEfet.RG.sh$Data <-as.yearqtr(with(RendaEfet.RG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
RendaEfet.RG.sh <- RendaEfet.RG.sh %>%
select(Renda_Efetiva_RG, Categoria, Data)
ggplot(RendaEfet.RG.sh, aes(x=Data, y=Renda_Efetiva_RG, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Renda Efetiva por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() + # colocando fundo Branco
labs(x = "Data",
y = "Renda Efetiva")
colnames(RendaEfet.RG.sh)[colnames(RendaEfet.RG.sh) == "Data"] = "Trimestre"
date <- do.call(rbind, strsplit(RendaHabit.RG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
RendaHabit.RG.sh <- RendaHabit.RG.sh %>%
select(Renda_Habitual_RG, Categoria)
RendaHabit.RG.sh <- cbind(RendaHabit.RG.sh,date)
RendaHabit.RG.sh$Dia <- 01
RendaHabit.RG.sh$Mes <- ifelse(RendaHabit.RG.sh$Trimestre=="Q1",1,
ifelse(RendaHabit.RG.sh$Trimestre=="Q2",4,
ifelse(RendaHabit.RG.sh$Trimestre=="Q3",7,10)))
RendaHabit.RG.sh$Ano <- as.numeric(RendaHabit.RG.sh$Ano)
RendaHabit.RG.sh$Data <-as.yearqtr(with(RendaHabit.RG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
RendaHabit.RG.sh<- RendaHabit.RG.sh %>%
select(Renda_Habitual_RG, Categoria, Data)
ggplot(RendaHabit.RG.sh, aes(x=Data, y=Renda_Habitual_RG, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Renda Habitual por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() + # colocando fundo Branco
labs(x = "Data",
y = "Renda Habitual")
#GRAFICOS
#colnames(gini.RG.sh)[colnames(gini.RG.sh) == "não contribuinte INSS"] = "Informal"
date <- do.call(rbind, strsplit(giniRG.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
giniRG.sh <- giniRG.sh %>%
select(gini, Categoria)
giniRG.sh <- cbind(giniRG.sh,date)
giniRG.sh$Dia <- 01
giniRG.sh$Mes <- ifelse(giniRG.sh$Trimestre=="Q1",1,
ifelse(giniRG.sh$Trimestre=="Q2",4,
ifelse(giniRG.sh$Trimestre=="Q3",7,10)))
giniRG.sh$Ano <- as.numeric(giniRG.sh$Ano)
giniRG.sh$Data <-as.yearqtr(with(giniRG.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
giniRG.sh<- giniRG.sh %>%
select(gini, Categoria, Data)
ggplot(giniRG.sh, aes(x=Data, y=gini, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Índice de Gini por RaÇa e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
ggplot(giniRG.sh, aes(x=Data, y=gini, color=Categoria))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Índice de Gini por Raça e Gênero") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
colnames(giniUF.sh)[colnames(giniUF.sh) == "Regiao"] = "Região"
ggplot(giniUF.sh, aes(x=Data, y=gini, color=Região))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Índice de Gini por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
colnames(giniUF.sh)[colnames(giniUF.sh) == "Regiao"] = "Região"
ggplot(giniUF.sh, aes(x=Trimestre, y=gini, color=Região))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Índice de Gini por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
date <- do.call(rbind, strsplit(giniUF.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
giniUF.sh <- giniUF.sh %>%
select(gini, Regiao)
date <- do.call(rbind, strsplit(giniUF.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
giniUF.sh <- giniUF.sh %>%
select(gini, Regiao)
colnames(quantis_de_renda23_04)[colnames(quantis_de_renda23_04) == "Percentual da Renda Apropriada"] = "apropriado"
quantis_de_renda23_04 <- quantis_de_renda23_04 %>% mutate("Percentis" = row.names(quantis_de_renda23_04))
#percentis$percentis <- c(paste(seq(0, 0.9, 0.1)), "0.99")
#colnames(percentis)[colnames(percentis) == "% da renda apropriado"] ="apropriado"
ggplot(quantis_de_renda23_04, aes(x=Percentis, y=apropriado))+
geom_bar(stat = "identity", fill="#45ff66") + # definindo grossura da linha
labs(title = "Apropriação da Renda por Percentis",
x = "Percentil",
y = "Percentual Apropriado") +
theme_bw() # colocando fundo Branco
# Cria o gráfico com ggplot2
grafico <- ggplot(data.frame(x, y), aes(x, y)) +
geom_line(color = "#45ff66", size=1.5) +
labs(x = "Quantil", y = "% da Renda", title = "Curva de Lorenz") +
theme_bw() # colocando fundo Branco
# Adiciona a linha de 45 graus
grafico + geom_abline(intercept = 0, slope = 1, color = "#eb52ff",size=0.7)
curva_de_lorenz <- grafico + geom_abline(intercept = 0, slope = 1, color = "#eb52ff",size=0.7)
desemprego_MN
# SEMPRE CARREGAR ESTE CHUNK ANTES DE ABRIR O CÓDIGO COM OS DADOS
#library(PNADcIBGE)
library(survey)
library(convey)
library(tidyverse)
library(dplyr)
library(knitr)
library(openxlsx)
library(kableExtra)
library(zoo)
library(gplots)
library(ggplot2)
#devtools::install_github("kupietz/kableExtra")
# Setting work directory (Github)-----------------------------------------------
#file_directory <- dirname(rstudioapi::getSourceEditorContext()$path)%>%
#  gsub("\\Long version", "", .)
#setwd(file_directory)
#getwd()
# Reading PNADc file------------------------------------------------------------
i=2023
q=4
#folder_path <- "Input/"
#file_path <- paste0(file_directory, folder_path, "PNADc_", q, "_",i, ".RData")
#load(file_path)
#Eslen
#setwd("C:/Users/USER/Desktop/GitHub/Relatorio_PNAD_Continua")
#load("C:/Users/USER/Desktop/GitHub/.github/PNADc-Report/Input/PNADc_complete_time_series_042023.RData")
#Clara
#load("H:/Meu Drive/Documentos/Made/relatorio_pnad/PNAD_dados_relatorio_04_2023.RData")
#load("H:/Meu Drive/Documentos/Made/relatorio_pnad/dados_serie_historica_042023.RData")
#Hiaman
load("C:/Users/lauro/Desktop/PNADc/Enviados por Clara/CLARA_dados_serie_historica_042023.RData")
# >>>>>>> d652c9436dab38d2a95b598e7f8d757feee55249
# Variáveis
# Ex: PEA_homem_branco_trimestre_anterior <- PEA.RG.sh$PEA[PEA.RG.sh$Categoria == "Homem Branco" & PEA.RG.sh$Trimestre == "2023 Q2"]
colnames(PEA.REG.sh)[colnames(PEA.REG.sh) == "Data"] = "Trimestre"
colnames(Tx_desemprego.sh)[colnames(Tx_desemprego.sh) == "Taxa de desemprego"] = "Taxa_desemprego"
desemprego <- Tx_desemprego.sh$Taxa_desemprego[Tx_desemprego.sh$Trimestre == "2023 Q4"]
desemprego_tri <- Tx_desemprego.sh$Taxa_desemprego[Tx_desemprego.sh$Trimestre == "2023 Q3"]
desemprego_ano <- Tx_desemprego.sh$Taxa_desemprego[Tx_desemprego.sh$Trimestre == "2022 Q3"]
desem_tri <- ((desemprego)-(desemprego_tri))
desem_ano <- ((desemprego)-(desemprego_ano))
## Desemprego por raça e gênero
desemprego_HB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
desemprego_HN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
desemprego_MB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
desemprego_MN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q4"])
##Trimestre anterior
desem_triHB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desem_triHN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desem_triMB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desem_triMN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Trimestre == "2023 Q3"])
desemtriMB <- (desemprego_MB - desem_triMB)
desemtriMN <- (desemprego_MN - desem_triMN)
desemtriHB <- (desemprego_HB - desem_triHB)
desemtriHN <- (desemprego_HN - desem_triHN)
##Ano anterior
desemano_HB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Branco" & EMPREGO.RG.sh$Data == "2022 Q4"])
desemano_HN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Homem Negro" & EMPREGO.RG.sh$Data == "2022 Q4"])
desemano_MB <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Branca" & EMPREGO.RG.sh$Data == "2022 Q4"])
desemano_MN <- 1 - (EMPREGO.RG.sh$Ocupado[EMPREGO.RG.sh$Categoria == "Mulher Negra" & EMPREGO.RG.sh$Data == "2022 Q4"])
desemanoMB <- (desemprego_MB - desemano_MB)
desemanoMN <- (desemprego_MN - desemano_MN)
desemanoHB <- (desemprego_HB - desemano_HB)
desemanoHN <- (desemprego_HN - desemano_HN)
#Ordem
desemprego_RG <- c(desemprego_HB, desemprego_HN, desemprego_MB, desemprego_MN)
ordem_desemRG <- sort(desemprego_RG, decreasing = TRUE)
max_desemRG <- ordem_desemRG[1]
seg_desemRG <- ordem_desemRG[2]
ter_desemRG <- ordem_desemRG[3]
qua_desemRG <- ordem_desemRG[4]
# Máximo de 2023 Q4
maxRG_2023_04 <- EMPREGO.RG.sh %>%
filter(Trimestre == "2023 Q4") %>% #filtro pelo trimestre que quero
filter(Ocupado == max(Ocupado)) %>% # e peço a linha correspondente ao valor máximo
select(Categoria) #peço a categoria associada
#Mínimo de 2023 Q4
minRG_2023_04 <- EMPREGO.RG.sh %>%
filter(Trimestre == "2023 Q4") %>% #filtro pelo trimestre que quero
filter(Ocupado == min(Ocupado)) %>%  # e peço a linha correspondente ao valor mínimo
select(Categoria) #peço a categoria associada
#Região
desemprego_NO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Norte" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_NE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Nordeste" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_CO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Centro-Oeste" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_SE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sudeste" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
desemprego_SU <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sul" & EMPREGO.REG.sh$Trimestre == "2023 Q4"]))
### Trimestre anterior
desemtri_NO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Norte" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_NE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Nordeste" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_CO <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Centro-Oeste" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_SE <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sudeste" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtri_SU <- (1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sul" & EMPREGO.REG.sh$Trimestre == "2023 Q3"]))
desemtriNO <- desemprego_NO - desemtri_NO
desemtriNE <- desemprego_NE - desemtri_NE
desemtriCO <- desemprego_CO - desemtri_CO
desemtriSE <- desemprego_SE - desemtri_SE
desemtriSU <- desemprego_SU - desemtri_SU
## Ano anterior
desemano_NO <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Norte" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_NE <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Nordeste" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_CO <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Centro-Oeste" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_SE <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sudeste" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemano_SU <- 1 - (EMPREGO.REG.sh$Ocupado[EMPREGO.REG.sh$Regiao == "Sul" & EMPREGO.REG.sh$Trimestre == "2022 Q4"])
desemanoNO <- desemprego_NO - desemano_NO
desemanoNE <- desemprego_NE - desemano_NE
desemanoCO <- desemprego_CO - desemano_CO
desemanoSE <- desemprego_SE - desemano_SE
desemanoSU <- desemprego_SU - desemano_SU
#Ordem
desemprego_REG <- c(desemprego_NO, desemprego_NE, desemprego_CO, desemprego_SE, desemprego_SU)
ordem_desemREG <- sort (desemprego_REG, decreasing = TRUE)
max_desemREG <- ordem_desemREG[1]
seg_desemREG <- ordem_desemREG[2]
ter_desemREG <- ordem_desemREG[3]
qua_desemREG <- ordem_desemREG[4]
qui_desemREG <- ordem_desemREG[5]
desem_triREG <- c(desemtriNO, desemtriNE, desemtriCO, desemtriSE, desemtriSU)
ordem_desem_triREG <- sort(desem_triREG, decreasing = TRUE)
max_desemtriREG <- ordem_desem_triREG[1]
seg_desemtriREG <- ordem_desem_triREG[2]
ter_desemtriREG <- ordem_desem_triREG[3]
qua_desemtriREG <- ordem_desem_triREG[4]
qui_desemtriREG <- ordem_desem_triREG[5]
desem_anoREG <- c(desemanoNO, desemanoNE, desemanoCO, desemanoSE, desemanoSU)
ordem_desem_anoREG <- sort(desem_anoREG, decreasing = TRUE)
max_desemanoREG <- ordem_desem_anoREG[1]
seg_desemanoREG <- ordem_desem_anoREG[2]
ter_desemanoREG <- ordem_desem_anoREG[3]
qua_desemanoREG <- ordem_desem_anoREG[4]
qui_desemanoREG <- ordem_desem_anoREG[5]
# Máximo de 2023 Q4
maxREG_2023_04 <- EMPREGO.REG.sh %>%
filter(Trimestre == "2023 Q4") %>% #filtro pelo trimestre que quero
filter(Ocupado == max(Ocupado)) %>% # e peço a linha correspondente ao valor máximo
select(Regiao) #peço a categoria associada
# Mínimo de 2023 Q4
minREG_2023_04 <- EMPREGO.REG.sh %>%
filter(Trimestre == "2023 Q4") %>% #filtro pelo trimestre que quero
filter(Ocupado == min(Ocupado)) %>%  # e peço a linha correspondente ao valor mínimo
select(Regiao) #peço a categoria associada
desemprego_MN
desemprego_MB
desemprego_HB
desemprego_HN
max_2023_04
min_2023_04
maxRG_2023_04
minRG_2023_04
minRG_2023_04[,1]
maxRG_2023_04[,1
maxRG_2023_04[,1]
maxRG_2023_04[,1]
desemanoHB
desemanoHN
desemanoMB
max_desemRG
desemanoNO
desemanoSU
desemprego_SU
desemprego_NO
desemano_NO
desemprego_CO
desemano_CO
desemprego_SE
desemano_SE
desemanoHB
SUBOCUPHORAS.RG$Subocupado[SUBOCUPHORAS.RG$Categoria=="Homem Branco"]*100
# SEMPRE CARREGAR ESTE CHUNK ANTES DE ABRIR O CÓDIGO COM OS DADOS
#library(PNADcIBGE)
library(survey)
library(convey)
library(tidyverse)
library(dplyr)
library(knitr)
library(openxlsx)
library(kableExtra)
library(zoo)
library(gplots)
library(ggplot2)
#devtools::install_github("kupietz/kableExtra")
# Setting work directory (Github)-----------------------------------------------
#file_directory <- dirname(rstudioapi::getSourceEditorContext()$path)%>%
#  gsub("\\Long version", "", .)
#setwd(file_directory)
#getwd()
# Reading PNADc file------------------------------------------------------------
i=2023
q=4
#folder_path <- "Input/"
#file_path <- paste0(file_directory, folder_path, "PNADc_", q, "_",i, ".RData")
#load(file_path)
#Eslen
#setwd("C:/Users/USER/Desktop/GitHub/Relatorio_PNAD_Continua")
#load("C:/Users/USER/Desktop/GitHub/.github/PNADc-Report/Input/PNADc_complete_time_series_042023.RData")
#Clara
#load("H:/Meu Drive/Documentos/Made/relatorio_pnad/PNAD_dados_relatorio_04_2023.RData")
#load("H:/Meu Drive/Documentos/Made/relatorio_pnad/dados_serie_historica_042023.RData")
#Hiaman
load("C:/Users/lauro/Desktop/PNADc/Enviados por Clara/CLARA_dados_serie_historica_042023.RData")
load("C:/Users/lauro/Desktop/PNADc/Enviados por Clara/CLARA_PNAD_dados_relatorio_04_2023.RData")
# >>>>>>> d652c9436dab38d2a95b598e7f8d757feee55249
View(giniUF.sh)
date <- do.call(rbind, strsplit(giniUF.sh$Trimestre, " "))
colnames(date)[colnames(date) <- c("Ano", "Trimestre")]
giniUF.sh <- giniUF.sh %>%
select(gini, Regiao)
giniUF.sh <- cbind(giniUF.sh,date)
giniUF.sh$Dia <- 01
giniUF.sh$Mes <- ifelse(giniUF.sh$Trimestre=="Q1",1,
ifelse(giniUF.sh$Trimestre=="Q2",4,
ifelse(giniUF.sh$Trimestre=="Q3",7,10)))
giniUF.sh$Ano <- as.numeric(giniUF.sh$Ano)
giniUF.sh$Data <-as.yearqtr(with(giniUF.sh,paste(Ano,Mes,Dia,sep="-")),"%Y-%m-%d")
giniUF.sh<- giniUF.sh %>%
select(gini, Regiao, Data)
colnames(giniUF.sh)[colnames(giniUF.sh) == "Regiao"] = "Região"
ggplot(giniUF.sh, aes(x=Trimestre, y=gini, color=Região))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Índice de Gini por Região") + #titulo do grafico
colnames(giniUF.sh)[colnames(giniUF.sh) == "Regiao"] = "Região"
ggplot(giniUF.sh, aes(x=Trimestre, y=gini, color=Região))+
geom_line(size= 2) + # definindo grossura da linha
ggtitle("Índice de Gini por Região") + #titulo do grafico
colnames(giniUF.sh)[colnames(giniUF.sh) == "Regiao"] = "Região"
ggplot(giniUF.sh, aes(x=Trimestre, y=gini, color=Região))+
geom_line(size=2) + # definindo grossura da linha
ggtitle("Indice de Gini por Região") + #titulo do grafico
colnames(giniUF.sh)[colnames(giniUF.sh) == "Regiao"] = "Região"
ggplot(giniUF.sh, aes(x=Trimestre, y=gini, color=Região))+
geom_line(size=2) + #definindo grossura da linha
ggtitle("Indice de Gini por Região") + #titulo do grafico
colnames(giniUF.sh)[colnames(giniUF.sh) == "Regiao"] = "Região"
ggplot(giniUF.sh, aes(x=Trimestre, y=gini, color=Região))+
geom_line(size=2) + #definindo grossura da linha
ggtitle("Indice de Gini por Região") + #titulo do grafico
ggplot(giniUF.sh, aes(x=Trimestre, y=gini, color=Região))+
geom_line(size=2) + #definindo grossura da linha
ggtitle("Indice de Gini por Região") + #titulo do grafico
scale_colour_manual(values=c("#45ff66","#eb52ff", "#3366ff","#feff41","#FFAB4D")) + #cores Made
theme_bw() # colocando fundo Branco
colnames(giniUF.sh)[colnames(giniUF.sh) == "Região"] = "Regiao"
colnames(giniUF.sh)[colnames(giniUF.sh) == "Região"] = "Regiao"
